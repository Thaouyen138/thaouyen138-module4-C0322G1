<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
    <link th:href="@{/bootstrap/bootstrap413/css/bootstrap.min.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
    <style>
        .center-box {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .space-around {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
    </style>
</head>
<body>
<div class="row bg-warning" style="height: 70px;margin: 0">
    <div class="col-md-1 center-box">
        <a class="bi bi-house-heart  font-weight-bold " style=" color :white;border-radius:15px;font-size: 50px" href="/">
        </a>
    </div>
    <div class="col-md-10 center-box ">
        <a href="/customer" class="text-white font-weight-bold" style="font-size: 40px ;text-decoration: none">
            <p style="color:white">ⒸⓊⓈⓉⓄⓂⒺⓇ &ensp; ⓁⒾⓈⓉ </p>
        </a>
    </div>
    <div class="col-md-1 center-box">

        <span class="bi bi-search btn bg-white font-weight-bold"
              data-toggle="modal" data-target="#search" style="width:300px;float: right">
        </span>
    </div>
    <table class="table table-hover table-center container-fluid" style="margin-top: 0px" id="table">
        <thead>
        <tr style="height: 70px">
            <th style="height: 70px" class="border-0 text-white bg-dark">Id Customer</th>
            <th style="height: 70px" class="border-0  text-white bg-dark">Customer Type</th>
            <th style="height: 70px" class="border-0 text-white  bg-dark">Name</th>
            <th style="height: 70px" class="border-0 text-white  bg-dark">Date of birth</th>
            <th style="height: 70px" class="border-0 text-white  bg-dark">Gender</th>
            <th style="height: 70px" class="border-0 text-white  bg-dark">Id card</th>
            <th style="height: 70px" class="border-0 text-white  bg-dark">Phone number</th>
            <th style="height: 70px" class="border-0 text-white  bg-dark">Email</th>
            <th style="height: 70px" class="border-0 text-white  bg-dark">Address</th>
            <th style="height: 70px" class="border-0 bg-dark  text-warning">𝔼𝕕𝕚𝕥</th>
            <th style="height: 70px" class="border-0 bg-dark  text-warning">𝔻𝕖𝕝𝕖𝕥𝕖</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="c : ${customerList}">
            <td th:text="${c.id}"></td>
            <td th:text="${c.customerType.name}"></td>
            <td th:text="${c.name}"></td>
            <td th:text="${c.dateOfBirth}"></td>
            <td>
                    <span th:if="${c.gender} == 1">Nữ</span>
                    <span th:if="${c.gender} == 2">Nam</span>

            </td>
            <td th:text="${c.idCard}"></td>
            <td th:text="${c.phoneNumber}"></td>
            <td th:text="${c.email}"></td>
            <td th:text="${c.address}"></td>
            <td>
                <a style="border-radius: 30px"  th:href="@{/customer/edit/__${c.id}__}" class="btn btn-warning"><i
                        class="bi bi-pencil-square"></i></a>
            </td>
            td>
<!--            <btn class="btn btn-primary" data-toggle="modal" data-target="#delete" onclick="getId(`${c.id}`)">-->
<!--                <i class="bi bi-trash"></i>-->
<!--            </btn>-->
<!--            </td>-->
<!--            <td>-->
<!--                <a style="border-radius: 30px" th:href="@{/customer/delete/__${c.id}__}" class="btn btn-warning" name="delete" >-->
<!--                    <i class="bi bi-trash"></i>-->
<!--                </a>-->
<!--            </td>-->
            <td>
                <a style="border-radius: 30px"  class="btn btn-warning"
                   data-toggle="modal" data-target="#delete" onclick="getId(`${c.id}`)">
                    <i class="bi bi-trash"></i>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
    <table class="table-center container-fluid" >
    <tr>
        <td colspan="11">
            <div class="center-box m-4">
        <span>
            <a style="border-radius: 30px ;border:solid ;border: goldenrod  ;color: goldenrod" class=" btn btn-outline-dark page m-2" th:if="${customerList.hasPrevious()}"
               th:href="@{/customer(page = ${customerList.number - 1})}">Previous</a>
        </span>
                <span th:each="pageNo: ${#numbers.sequence(0,customerList.totalPages - 1)}">
            <a style="border-radius: 30px;border:solid ;border: pink  ;color: goldenrod" class=" btn btn-outline-dark page m-2"
               th:href="@{/customer(page = ${pageNo})}"
               th:text="${pageNo + 1}"></a>
        </span>
                <span>
            <a style="border-radius: 30px;border:solid ;border: goldenrod  ;color: goldenrod" class=" btn btn-outline-dark page m-2" th:if="${customerList.hasNext()}"
               th:href="@{/customer(page = ${customerList.number +1})}">
                Next
            </a>
        </span>
            </div>
        </td>

    </tr>
    <tr>
        <td colspan="11">
            <div class="center-box w-100">
                <a style="border-radius: 30px;border:solid ;border: goldenrod  ;color: goldenrod" href="/customer/create" class="btn btn-outline-dark font-weight-bold">
                 <p style="color: goldenrod"> 𝔸𝕕𝕕 𝕟𝕖𝕨 𝕔𝕦𝕤𝕥𝕠𝕞𝕖𝕣 &ensp;
                     <i class="bi bi-calendar2-plus font-weight-bold" style="font-size: 30px"></i></p>
                </a>
            </div>
        </td>
    </tr>
    </table>
</div>
<div class="modal" id="delete">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title w-100 text-center" id="confirm"> Confirm</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <h4 class="modal-title w-100 text-center" id="body"> </h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="deleteById()">
                    <a class="text-white">Xóa</a>
                </button>
                <button type="button" class="btn btn-primary " data-dismiss="modal">Hủy</button>
            </div>
        </div>
    </div>
</div>
</div>
</body>
<script th:src="@{/bootstrap/jquery/jquery-3.5.1.min.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script th:src="@{/bootstrap/bootstrap413/js/bootstrap.bundle.min.js}"></script>
<script>
    $(document).ready(function () {
        $('#table').dataTable({
            "dom": 'lrtip',
            "lengthChange": false,
            "pageLength": 6
        });
    })
    var idToDelete;
    function getId(id){
        idToDelete = id;
        document.getElementById("confirm").innerHTML = "Bạn có muốn xóa khách hàng <br>" + id;
    }
    function deleteById(){
        window.location.href = "/customer/delete/{id}" + idToDelete;
    }
</script>
</html>